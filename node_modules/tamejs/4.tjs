
function foo (i, cb) {
   await setTimeout (defer (), i * 10);
   cb(i);
};

var results = [];
await { 
   for (var i = 0; i < 20; i++) {
      foo (i, defer (results[i]));
   }
}

for (i in results) {
   console.log ("X: " + results[i]);
}
     
