diff --git a/lib/lexer.l b/lib/lexer.l
index df33f05..7a798b6 100644
--- a/lib/lexer.l
+++ b/lib/lexer.l
@@ -1,54 +1,54 @@
 
 
-%s ST_QUOTE2 ST_QUOTE1 ST_COMMENT NST
+%s ST_QUOTE2 ST_QUOTE1 ST_COMMENT
 %%
 
-<INITIAL,NST>"//".*		/* skip over C++-style comments */
+<INITIAL>"//".*		/* skip over C++-style comments */
 
-<INITIAL,NST>[ \t\n]             /* skip space */
+<INITIAL>\s+             /* skip space */
 
-<INITIAL,NST>"for"		return 'FOR';
-<INITIAL,NST>"while"	return 'WHILE'; 
-<INITIAL,NST>"break"	return 'BREAK';
-<INITIAL,NST>"continue"	return 'CONTINUE';
-<INITIAL,NST>"return"	return 'RETURN';
-<INITIAL,NST>"do"		return 'DO';
-<INITIAL,NST>"if"		return 'IF';
-<INITIAL,NST>"else"		return 'ELSE';
-<INITIAL,NST>"try"		return 'TRY';
-<INITIAL,NST>"catch"	return 'CATCH';
-<INITIAL,NST>"twait"	return 'TWAIT';
-<INITIAL,NST>"function"	return 'FUNCTION';
-<INITIAL,NST>"mkevent"	return 'MKEVENT';
-<INITIAL,NST>"finally"	return 'FINALLY';
-<INITIAL,NST>"case"		return 'CASE';
-<INITIAL,NST>"switch"	return 'SWITCH';
-<INITIAL,NST>"default"	return 'DEFAULT';
-<INITIAL,NST>"this"         return 'THIS';
-<INITIAL,NST>"with"         return 'WITH';
-<INITIAL,NST>"#!"[ ]*[/].*  return 'SHBANG'; 
+<INITIAL>"for"		return 'FOR';
+<INITIAL>"while"	return 'WHILE'; 
+<INITIAL>"break"	return 'BREAK';
+<INITIAL>"continue"	return 'CONTINUE';
+<INITIAL>"return"	return 'RETURN';
+<INITIAL>"do"		return 'DO';
+<INITIAL>"if"		return 'IF';
+<INITIAL>"else"		return 'ELSE';
+<INITIAL>"try"		return 'TRY';
+<INITIAL>"catch"	return 'CATCH';
+<INITIAL>"twait"	return 'TWAIT';
+<INITIAL>"function"	return 'FUNCTION';
+<INITIAL>"mkevent"	return 'MKEVENT';
+<INITIAL>"finally"	return 'FINALLY';
+<INITIAL>"case"		return 'CASE';
+<INITIAL>"switch"	return 'SWITCH';
+<INITIAL>"default"	return 'DEFAULT';
+<INITIAL>"this"         return 'THIS';
+<INITIAL>"with"         return 'WITH';
+<INITIAL>"#!"[ ]*[/].*  return 'SHBANG'; 
 
-<INITIAL,NST>[a-zA-Z_0-9]+[ ^]*[:] { 
+<INITIAL>[a-zA-Z_0-9]+[ ^]*[:] { 
                                    yytext = yytext.replace (/[\s:]/g, ""); 
 				   return 'LABEL'; 
                               }
-<INITIAL,NST>[a-zA-Z_][a-zA-Z_0-9]* { return 'ID'; }
+<INITIAL>[a-zA-Z_][a-zA-Z_0-9]* { return 'ID'; }
 
-<INITIAL,NST>"{"		{ this.begin ('NST'); return 'LBRACE'; }
-<INITIAL,NST>"}"		{ this.popState (); return 'RBRACE'; }
-<INITIAL,NST>"("		{ this.begin ('NST'); return 'LPAREN'; }
-<INITIAL,NST>")"		{ this.popState(); return 'RPAREN'; }
-<INITIAL,NST>"["		{ this.begin ('NST'); return 'LBRACKET'; }
-<INITIAL,NST>"]"		{ this.popState (); return 'RBRACKET'; }
-<INITIAL,NST>";"		return "SEMICOLON";
-<INITIAL,NST>','		return 'COMMA';
-<INITIAL,NST>':'		return 'COLON';
+<INITIAL>"{"		return 'LBRACE';
+<INITIAL>"}"		return 'RBRACE';
+<INITIAL>"("		return 'LPAREN';
+<INITIAL>")"		return 'RPAREN';
+<INITIAL>"["		return 'LBRACKET';
+<INITIAL>"]"		return 'RBRACKET';
+<INITIAL>";"		return "SEMICOLON";
+<INITIAL>','		return 'COMMA';
+<INITIAL>':'		return 'COLON';
 
-<INITIAL,NST>"\""		{ this.begin ('ST_QUOTE2'); return 'QUOTE2'; }
-<INITIAL,NST>"'"		{ this.begin ('ST_QUOTE1'); return 'QUOTE1'; }
-<INITIAL,NST>"/*"		{ this.begin ('ST_COMMENT'); }
-<INITIAL,NST>[^/{}()\[\];,:"'\s]+    return 'GENERIC';
-<INITIAL,NST>.	 	return 'GENERIC';
+<INITIAL>"\""		{ this.begin ('ST_QUOTE2'); return 'QUOTE2'; }
+<INITIAL>"'"		{ this.begin ('ST_QUOTE1'); return 'QUOTE1'; }
+<INITIAL>"/*"		{ this.begin ('ST_COMMENT'); }
+<INITIAL>[^/{}()\[\];,:"'\s]+    return 'GENERIC';
+<INITIAL>.	 	return 'GENERIC';
 
 <ST_QUOTE2>"\\".	return 'STRING_ATOM';
 <ST_QUOTE2>[^\\"]+	return 'STRING_ATOM';
